<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soldesk.mapper.MountainMapper">
	<!-- 모든 산 데이터 조회 -->
	<select id="getAllMountain" resultType="com.soldesk.entity.mountain.Mountain">
		select * from soldesk_mountain_tb
	</select>
	
	<!-- 특정 지역 산 데이터 조회 -->
	<select id="getLocalMountain" resultType = "com.soldesk.entity.mountain.Mountain"
	parameterType="com.soldesk.entity.mountain.Mountain">
		select * from soldesk_mountain_tb where m_location = #{m_location}
	</select>
	
	<!-- 특정 산 데이터 1개 조회 -->
	<select id="getMountainDetail" resultType = "com.soldesk.entity.mountain.Mountain"
	parameterType="com.soldesk.entity.mountain.Mountain">
		select * from soldesk_mountain_tb where m_no = #{m_no}
	</select>
	
	<!-- 산 전체 데이터 개수 리턴 -->
	<select id="getMountainCount" resultType="int">
		select count(*) from soldesk_mountain_tb
	</select>
	
	<!-- 산 데이터 수정 -->
	<update id = "modifyMountain" parameterType="com.soldesk.entity.mountain.Mountain">
		update soldesk_mountain_tb 
		set 
		m_name = #{m_name},
		m_height = #{m_height},
		m_location = #{m_location},
		m_address = #{m_address} 
		where m_no = #{m_no}
	</update>
	
	<!-- 산 데이터 추가 -->
	<insert id="registerMountain" parameterType = "com.soldesk.entity.mountain.Mountain">
		insert into soldesk_mountain_tb(m_no, m_name, m_height, m_location, m_address, m_photo, m_detail)
		values(seq_soldesk_mountain_tb.nextval, #{m_name}, #{m_height}, #{m_location}, #{m_address}, #{m_photo}, #{m_detail})
	</insert>
</mapper>